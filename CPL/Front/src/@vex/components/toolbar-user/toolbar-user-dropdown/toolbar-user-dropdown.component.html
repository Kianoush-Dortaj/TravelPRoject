<div class="dropdown">
  <div
    class="dropdown-header"
    fxLayout="row"
    fxLayoutAlign="space-between center"
  >
    <div fxLayout="row" fxLayoutAlign="start center">
      <div
        class="dropdown-heading-icon"
        fxLayout="row"
        fxLayoutAlign="center center"
      >
        <mat-icon [icIcon]="icPerson"></mat-icon>
      </div>
      <div class="dropdown-heading">{{ displatyName }}</div>
    </div>

    <button
      [matMenuTriggerFor]="settingsMenu"
      mat-icon-button
      matTooltip="Settings"
      matTooltipPosition="before"
      type="button"
    >
      <mat-icon
        [icIcon]="icSettings"
        class="notifications-header-icon"
      ></mat-icon>
    </button>
  </div>

  <div class="dropdown-content">
    <a
      (click)="close()"
      *ngFor="let item of items; trackBy: trackById"
      [routerLink]="item.route"
      class="notification"
      fxLayout="row"
      fxLayoutAlign="start center"
      matRipple
    >
      <mat-icon
        [icIcon]="item.icon"
        [ngClass]="item.colorClass"
        class="notification-icon"
        fxFlex="none"
      ></mat-icon>
      <div fxFlex="auto">
        <div class="notification-label">{{ item.label }}</div>
        <div class="notification-description">{{ item.description }}</div>
      </div>
      <mat-icon
        [icIcon]="icChevronRight"
        class="notification-chevron"
        fxFlex="none"
      ></mat-icon>
    </a>
  </div>

  <div
    class="dropdown-footer"
    fxLayout="row"
    fxLayoutAlign="space-between center"
  >
    <!-- <div
      (click)="
        selectedStyle === Style.dark ? disableDarkMode() : enableDarkMode()
      "
      *ngIf="selectedStyle$ | async as selectedStyle"
      class="rounded-full mt-2 flex items-center cursor-pointer relative bg-contrast-black text-contrast-white"
      matRipple
    >
      <div class="m-2 h-6 w-6 rounded-full">
        <ic-icon
          *ngIf="selectedStyle === Style.dark"
          [icon]="icCheck"
          size="24px"
        ></ic-icon>
        <ic-icon
          *ngIf="selectedStyle !== Style.dark"
          [icon]="icClose"
          size="24px"
        ></ic-icon>
      </div>
      <p class="ml-1 font-medium text-sm">DARK MODE</p>
    </div> -->

    <div [ngClass]="currentLanguage==='fa'?'fa':'en'" class="nightModeButton">
      <input
        [(ngModel)]="darkModeEnable"
        (click)="
          selectedStyle === Style.dark ? disableDarkMode() : enableDarkMode()
        "
        *ngIf="selectedStyle$ | async as selectedStyle"
        type="checkbox"
      />
    </div>

    <a (click)="close()" color="primary" mat-button>{{
      "GENERAL.LOG_OUT" | translate
    }}</a>
  </div>
</div>

<mat-menu #statusMenu="matMenu" xPosition="before" yPosition="below">
</mat-menu>

<mat-menu #settingsMenu="matMenu" xPosition="before" yPosition="below">
  <button mat-menu-item>
    <mat-icon [icIcon]="icBusiness"></mat-icon>
    <span>Change Address</span>
  </button>

  <button mat-menu-item>
    <mat-icon [icIcon]="icVerifiedUser"></mat-icon>
    <span>Change Username</span>
  </button>

  <button mat-menu-item>
    <mat-icon [icIcon]="icLock"></mat-icon>
    <span>Change Password</span>
  </button>

  <button mat-menu-item>
    <mat-icon [icIcon]="icNotificationsOff"></mat-icon>
    <span>Disable Notifications</span>
  </button>
</mat-menu>
